var fn=Object.create;var Oe=Object.defineProperty;var ln=Object.getOwnPropertyDescriptor;var pn=Object.getOwnPropertyNames;var cn=Object.getPrototypeOf,hn=Object.prototype.hasOwnProperty;var N=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var dn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pn(t))!hn.call(e,o)&&o!==r&&Oe(e,o,{get:()=>t[o],enumerable:!(n=ln(t,o))||n.enumerable});return e};var B=(e,t,r)=>(r=e!=null?fn(cn(e)):{},dn(t||!e||!e.__esModule?Oe(r,"default",{value:e,enumerable:!0}):r,e));var ft=N(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});function ke(){var e;return typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:e=this,e.Cyclejs=e.Cyclejs||{},e=e.Cyclejs,e.adaptStream=e.adaptStream||function(t){return t},e}function Hn(e){ke().adaptStream=e}At.setAdapt=Hn;function zn(e){return ke().adaptStream(e)}At.adapt=zn});var Te=N(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.default=Jn;function Jn(e){var t,r=e.Symbol;if(typeof r=="function")if(r.observable)t=r.observable;else{t=r.for("https://github.com/benlesh/symbol-observable");try{r.observable=t}catch(n){}}else t="@@observable";return t}});var Be=N((wa,je)=>{je.exports=Te()});var Zt=N((Aa,$e)=>{"use strict";var Re=Object.prototype.toString;$e.exports=function(t){var r=Re.call(t),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Re.call(t.callee)==="[object Function]"),n}});var Xe=N((Oa,Ke)=>{"use strict";var Je;Object.keys||(lt=Object.prototype.hasOwnProperty,Qt=Object.prototype.toString,We=Zt(),te=Object.prototype.propertyIsEnumerable,Ue=!te.call({toString:null},"toString"),Ge=te.call(function(){},"prototype"),pt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ot=function(e){var t=e.constructor;return t&&t.prototype===e},qe={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},He=function(){if(typeof window=="undefined")return!1;for(var e in window)try{if(!qe["$"+e]&&lt.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{Ot(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),ze=function(e){if(typeof window=="undefined"||!He)return Ot(e);try{return Ot(e)}catch(t){return!1}},Je=function(t){var r=t!==null&&typeof t=="object",n=Qt.call(t)==="[object Function]",o=We(t),i=r&&Qt.call(t)==="[object String]",a=[];if(!r&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var s=Ge&&n;if(i&&t.length>0&&!lt.call(t,0))for(var u=0;u<t.length;++u)a.push(String(u));if(o&&t.length>0)for(var d=0;d<t.length;++d)a.push(String(d));else for(var m in t)!(s&&m==="prototype")&&lt.call(t,m)&&a.push(String(m));if(Ue)for(var v=ze(t),_=0;_<pt.length;++_)!(v&&pt[_]==="constructor")&&lt.call(t,pt[_])&&a.push(pt[_]);return a});var lt,Qt,We,te,Ue,Ge,pt,Ot,qe,He,ze;Ke.exports=Je});var Qe=N((Ea,Ze)=>{"use strict";var Kn=Array.prototype.slice,Xn=Zt(),Ye=Object.keys,Et=Ye?function(t){return Ye(t)}:Xe(),Ve=Object.keys;Et.shim=function(){if(Object.keys){var t=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);t||(Object.keys=function(n){return Xn(n)?Ve(Kn.call(n)):Ve(n)})}else Object.keys=Et;return Object.keys||Et};Ze.exports=Et});var er=N((Pa,tr)=>{"use strict";tr.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0}});var or=N((Ma,nr)=>{"use strict";var rr=typeof Symbol!="undefined"&&Symbol,Yn=er();nr.exports=function(){return typeof rr!="function"||typeof Symbol!="function"||typeof rr("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Yn()}});var ar=N((Da,ir)=>{"use strict";var Vn="Function.prototype.bind called on incompatible ",ee=Array.prototype.slice,Zn=Object.prototype.toString,Qn="[object Function]";ir.exports=function(t){var r=this;if(typeof r!="function"||Zn.call(r)!==Qn)throw new TypeError(Vn+r);for(var n=ee.call(arguments,1),o,i=function(){if(this instanceof o){var m=r.apply(this,n.concat(ee.call(arguments)));return Object(m)===m?m:this}else return r.apply(t,n.concat(ee.call(arguments)))},a=Math.max(0,r.length-n.length),s=[],u=0;u<a;u++)s.push("$"+u);if(o=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var d=function(){};d.prototype=r.prototype,o.prototype=new d,d.prototype=null}return o}});var re=N((Na,sr)=>{"use strict";var to=ar();sr.exports=Function.prototype.bind||to});var fr=N((Ca,ur)=>{"use strict";var eo=re();ur.exports=eo.call(Function.call,Object.prototype.hasOwnProperty)});var dr=N((La,hr)=>{"use strict";var P,ot=SyntaxError,cr=Function,rt=TypeError,ne=function(e){try{return cr('"use strict"; return ('+e+").constructor;")()}catch(t){}},X=Object.getOwnPropertyDescriptor;if(X)try{X({},"")}catch(e){X=null}var oe=function(){throw new rt},ro=X?function(){try{return arguments.callee,oe}catch(e){try{return X(arguments,"callee").get}catch(t){return oe}}}():oe,tt=or()(),q=Object.getPrototypeOf||function(e){return e.__proto__},et={},no=typeof Uint8Array=="undefined"?P:q(Uint8Array),nt={"%AggregateError%":typeof AggregateError=="undefined"?P:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?P:ArrayBuffer,"%ArrayIteratorPrototype%":tt?q([][Symbol.iterator]()):P,"%AsyncFromSyncIteratorPrototype%":P,"%AsyncFunction%":et,"%AsyncGenerator%":et,"%AsyncGeneratorFunction%":et,"%AsyncIteratorPrototype%":et,"%Atomics%":typeof Atomics=="undefined"?P:Atomics,"%BigInt%":typeof BigInt=="undefined"?P:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?P:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?P:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?P:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?P:FinalizationRegistry,"%Function%":cr,"%GeneratorFunction%":et,"%Int8Array%":typeof Int8Array=="undefined"?P:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?P:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?P:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":tt?q(q([][Symbol.iterator]())):P,"%JSON%":typeof JSON=="object"?JSON:P,"%Map%":typeof Map=="undefined"?P:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!tt?P:q(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?P:Promise,"%Proxy%":typeof Proxy=="undefined"?P:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?P:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?P:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!tt?P:q(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?P:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":tt?q(""[Symbol.iterator]()):P,"%Symbol%":tt?Symbol:P,"%SyntaxError%":ot,"%ThrowTypeError%":ro,"%TypedArray%":no,"%TypeError%":rt,"%Uint8Array%":typeof Uint8Array=="undefined"?P:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?P:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?P:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?P:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?P:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?P:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?P:WeakSet},oo=function e(t){var r;if(t==="%AsyncFunction%")r=ne("async function () {}");else if(t==="%GeneratorFunction%")r=ne("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=ne("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&(r=q(o.prototype))}return nt[t]=r,r},lr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ct=re(),Pt=fr(),io=ct.call(Function.call,Array.prototype.concat),ao=ct.call(Function.apply,Array.prototype.splice),pr=ct.call(Function.call,String.prototype.replace),Mt=ct.call(Function.call,String.prototype.slice),so=ct.call(Function.call,RegExp.prototype.exec),uo=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,fo=/\\(\\)?/g,lo=function(t){var r=Mt(t,0,1),n=Mt(t,-1);if(r==="%"&&n!=="%")throw new ot("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ot("invalid intrinsic syntax, expected opening `%`");var o=[];return pr(t,uo,function(i,a,s,u){o[o.length]=s?pr(u,fo,"$1"):a||i}),o},po=function(t,r){var n=t,o;if(Pt(lr,n)&&(o=lr[n],n="%"+o[0]+"%"),Pt(nt,n)){var i=nt[n];if(i===et&&(i=oo(n)),typeof i=="undefined"&&!r)throw new rt("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new ot("intrinsic "+t+" does not exist!")};hr.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new rt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new rt('"allowMissing" argument must be a boolean');if(so(/^%?[^%]*%?$/,t)===null)throw new ot("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=lo(t),o=n.length>0?n[0]:"",i=po("%"+o+"%",r),a=i.name,s=i.value,u=!1,d=i.alias;d&&(o=d[0],ao(n,io([0,1],d)));for(var m=1,v=!0;m<n.length;m+=1){var _=n[m],O=Mt(_,0,1),p=Mt(_,-1);if((O==='"'||O==="'"||O==="`"||p==='"'||p==="'"||p==="`")&&O!==p)throw new ot("property names with quotes must have matching quotes");if((_==="constructor"||!v)&&(u=!0),o+="."+_,a="%"+o+"%",Pt(nt,a))s=nt[a];else if(s!=null){if(!(_ in s)){if(!r)throw new rt("base intrinsic for "+t+" exists, but the property is not available.");return}if(X&&m+1>=n.length){var f=X(s,_);v=!!f,v&&"get"in f&&!("originalValue"in f.get)?s=f.get:s=s[_]}else v=Pt(s,_),s=s[_];v&&!u&&(nt[a]=s)}}return s}});var yr=N((Fa,mr)=>{"use strict";var co=dr(),ie=co("%Object.defineProperty%",!0),ae=function(){if(ie)try{return ie({},"a",{value:1}),!0}catch(t){return!1}return!1};ae.hasArrayLengthDefineBug=function(){if(!ae())return null;try{return ie([],"length",{value:1}).length!==1}catch(t){return!0}};mr.exports=ae});var se=N((Ia,br)=>{"use strict";var ho=Qe(),mo=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",yo=Object.prototype.toString,vo=Array.prototype.concat,vr=Object.defineProperty,go=function(e){return typeof e=="function"&&yo.call(e)==="[object Function]"},_o=yr()(),gr=vr&&_o,bo=function(e,t,r,n){t in e&&(!go(n)||!n())||(gr?vr(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},_r=function(e,t){var r=arguments.length>2?arguments[2]:{},n=ho(t);mo&&(n=vo.call(n,Object.getOwnPropertySymbols(t)));for(var o=0;o<n.length;o+=1)bo(e,n[o],t[n[o]],r[n[o]])};_r.supportsDescriptors=!!gr;br.exports=_r});var ue=N((ka,Dt)=>{"use strict";typeof self!="undefined"?Dt.exports=self:typeof window!="undefined"?Dt.exports=window:Dt.exports=Function("return this")()});var fe=N((Ta,xr)=>{"use strict";var xo=ue();xr.exports=function(){return typeof global!="object"||!global||global.Math!==Math||global.Array!==Array?xo:global}});var wr=N((ja,Sr)=>{"use strict";var So=se(),wo=fe();Sr.exports=function(){var t=wo();if(So.supportsDescriptors){var r=Object.getOwnPropertyDescriptor(t,"globalThis");(!r||r.configurable&&(r.enumerable||!r.writable||globalThis!==t))&&Object.defineProperty(t,"globalThis",{configurable:!0,enumerable:!1,value:t,writable:!0})}else(typeof globalThis!="object"||globalThis!==t)&&(t.globalThis=t);return t}});var Pr=N((Ba,Er)=>{"use strict";var Ao=se(),Oo=ue(),Ar=fe(),Eo=wr(),Po=Ar(),Or=function(){return Po};Ao(Or,{getPolyfill:Ar,implementation:Oo,shim:Eo});Er.exports=Or});var U=N(j=>{"use strict";var Mo=j&&j.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(j,"__esModule",{value:!0});j.NO_IL=j.NO=j.MemoryStream=j.Stream=void 0;var Do=Be(),No=Pr(),Nt=Do.default(No.getPolyfill()),c={};j.NO=c;function L(){}function Ct(e){for(var t=e.length,r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Co(e,t){return function(n){return e(n)&&t(n)}}function pe(e,t,r){try{return e.f(t)}catch(n){return r._e(n),c}}var Y={_n:L,_e:L,_c:L};j.NO_IL=Y;function Mr(e){e._start=function(r){r.next=r._n,r.error=r._e,r.complete=r._c,this.start(r)},e._stop=e.stop}var Lo=function(){function e(t,r){this._stream=t,this._listener=r}return e.prototype.unsubscribe=function(){this._stream._remove(this._listener)},e}(),Fo=function(){function e(t){this._listener=t}return e.prototype.next=function(t){this._listener._n(t)},e.prototype.error=function(t){this._listener._e(t)},e.prototype.complete=function(){this._listener._c()},e}(),Io=function(){function e(t){this.type="fromObservable",this.ins=t,this.active=!1}return e.prototype._start=function(t){this.out=t,this.active=!0,this._sub=this.ins.subscribe(new Fo(t)),this.active||this._sub.unsubscribe()},e.prototype._stop=function(){this._sub&&this._sub.unsubscribe(),this.active=!1},e}(),ko=function(){function e(t){this.type="merge",this.insArr=t,this.out=c,this.ac=0}return e.prototype._start=function(t){this.out=t;var r=this.insArr,n=r.length;this.ac=n;for(var o=0;o<n;o++)r[o]._add(this)},e.prototype._stop=function(){for(var t=this.insArr,r=t.length,n=0;n<r;n++)t[n]._remove(this);this.out=c},e.prototype._n=function(t){var r=this.out;r!==c&&r._n(t)},e.prototype._e=function(t){var r=this.out;r!==c&&r._e(t)},e.prototype._c=function(){if(--this.ac<=0){var t=this.out;if(t===c)return;t._c()}},e}(),To=function(){function e(t,r,n){this.i=t,this.out=r,this.p=n,n.ils.push(this)}return e.prototype._n=function(t){var r=this.p,n=this.out;if(n!==c&&r.up(t,this.i)){var o=Ct(r.vals);n._n(o)}},e.prototype._e=function(t){var r=this.out;r!==c&&r._e(t)},e.prototype._c=function(){var t=this.p;t.out!==c&&--t.Nc===0&&t.out._c()},e}(),jo=function(){function e(t){this.type="combine",this.insArr=t,this.out=c,this.ils=[],this.Nc=this.Nn=0,this.vals=[]}return e.prototype.up=function(t,r){var n=this.vals[r],o=this.Nn?n===c?--this.Nn:this.Nn:0;return this.vals[r]=t,o===0},e.prototype._start=function(t){this.out=t;var r=this.insArr,n=this.Nc=this.Nn=r.length,o=this.vals=new Array(n);if(n===0)t._n([]),t._c();else for(var i=0;i<n;i++)o[i]=c,r[i]._add(new To(i,t,this))},e.prototype._stop=function(){for(var t=this.insArr,r=t.length,n=this.ils,o=0;o<r;o++)t[o]._remove(n[o]);this.out=c,this.ils=[],this.vals=[]},e}(),Bo=function(){function e(t){this.type="fromArray",this.a=t}return e.prototype._start=function(t){for(var r=this.a,n=0,o=r.length;n<o;n++)t._n(r[n]);t._c()},e.prototype._stop=function(){},e}(),Ro=function(){function e(t){this.type="fromPromise",this.on=!1,this.p=t}return e.prototype._start=function(t){var r=this;this.on=!0,this.p.then(function(n){r.on&&(t._n(n),t._c())},function(n){t._e(n)}).then(L,function(n){setTimeout(function(){throw n})})},e.prototype._stop=function(){this.on=!1},e}(),$o=function(){function e(t){this.type="periodic",this.period=t,this.intervalID=-1,this.i=0}return e.prototype._start=function(t){var r=this;function n(){t._n(r.i++)}this.intervalID=setInterval(n,this.period)},e.prototype._stop=function(){this.intervalID!==-1&&clearInterval(this.intervalID),this.intervalID=-1,this.i=0},e}(),Wo=function(){function e(t,r){this.type="debug",this.ins=t,this.out=c,this.s=L,this.l="",typeof r=="string"?this.l=r:typeof r=="function"&&(this.s=r)}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=c},e.prototype._n=function(t){var r=this.out;if(r!==c){var n=this.s,o=this.l;if(n!==L)try{n(t)}catch(i){r._e(i)}else o?console.log(o+":",t):console.log(t);r._n(t)}},e.prototype._e=function(t){var r=this.out;r!==c&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==c&&t._c()},e}(),Uo=function(){function e(t,r){this.type="drop",this.ins=r,this.out=c,this.max=t,this.dropped=0}return e.prototype._start=function(t){this.out=t,this.dropped=0,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=c},e.prototype._n=function(t){var r=this.out;r!==c&&this.dropped++>=this.max&&r._n(t)},e.prototype._e=function(t){var r=this.out;r!==c&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==c&&t._c()},e}(),Go=function(){function e(t,r){this.out=t,this.op=r}return e.prototype._n=function(){this.op.end()},e.prototype._e=function(t){this.out._e(t)},e.prototype._c=function(){this.op.end()},e}(),qo=function(){function e(t,r){this.type="endWhen",this.ins=r,this.out=c,this.o=t,this.oil=Y}return e.prototype._start=function(t){this.out=t,this.o._add(this.oil=new Go(t,this)),this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.o._remove(this.oil),this.out=c,this.oil=Y},e.prototype.end=function(){var t=this.out;t!==c&&t._c()},e.prototype._n=function(t){var r=this.out;r!==c&&r._n(t)},e.prototype._e=function(t){var r=this.out;r!==c&&r._e(t)},e.prototype._c=function(){this.end()},e}(),le=function(){function e(t,r){this.type="filter",this.ins=r,this.out=c,this.f=t}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=c},e.prototype._n=function(t){var r=this.out;if(r!==c){var n=pe(this,t,r);n===c||!n||r._n(t)}},e.prototype._e=function(t){var r=this.out;r!==c&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==c&&t._c()},e}(),Ho=function(){function e(t,r){this.out=t,this.op=r}return e.prototype._n=function(t){this.out._n(t)},e.prototype._e=function(t){this.out._e(t)},e.prototype._c=function(){this.op.inner=c,this.op.less()},e}(),zo=function(){function e(t){this.type="flatten",this.ins=t,this.out=c,this.open=!0,this.inner=c,this.il=Y}return e.prototype._start=function(t){this.out=t,this.open=!0,this.inner=c,this.il=Y,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.inner!==c&&this.inner._remove(this.il),this.out=c,this.open=!0,this.inner=c,this.il=Y},e.prototype.less=function(){var t=this.out;t!==c&&!this.open&&this.inner===c&&t._c()},e.prototype._n=function(t){var r=this.out;if(r!==c){var n=this,o=n.inner,i=n.il;o!==c&&i!==Y&&o._remove(i),(this.inner=t)._add(this.il=new Ho(r,this))}},e.prototype._e=function(t){var r=this.out;r!==c&&r._e(t)},e.prototype._c=function(){this.open=!1,this.less()},e}(),Jo=function(){function e(t,r,n){var o=this;this.type="fold",this.ins=n,this.out=c,this.f=function(i){return t(o.acc,i)},this.acc=this.seed=r}return e.prototype._start=function(t){this.out=t,this.acc=this.seed,t._n(this.acc),this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=c,this.acc=this.seed},e.prototype._n=function(t){var r=this.out;if(r!==c){var n=pe(this,t,r);n!==c&&r._n(this.acc=n)}},e.prototype._e=function(t){var r=this.out;r!==c&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==c&&t._c()},e}(),Ko=function(){function e(t){this.type="last",this.ins=t,this.out=c,this.has=!1,this.val=c}return e.prototype._start=function(t){this.out=t,this.has=!1,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=c,this.val=c},e.prototype._n=function(t){this.has=!0,this.val=t},e.prototype._e=function(t){var r=this.out;r!==c&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==c&&(this.has?(t._n(this.val),t._c()):t._e(new Error("last() failed because input stream completed")))},e}(),Xo=function(){function e(t,r){this.type="map",this.ins=r,this.out=c,this.f=t}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=c},e.prototype._n=function(t){var r=this.out;if(r!==c){var n=pe(this,t,r);n!==c&&r._n(n)}},e.prototype._e=function(t){var r=this.out;r!==c&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==c&&t._c()},e}(),Yo=function(){function e(t){this.type="remember",this.ins=t,this.out=c}return e.prototype._start=function(t){this.out=t,this.ins._add(t)},e.prototype._stop=function(){this.ins._remove(this.out),this.out=c},e}(),Vo=function(){function e(t,r){this.type="replaceError",this.ins=r,this.out=c,this.f=t}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=c},e.prototype._n=function(t){var r=this.out;r!==c&&r._n(t)},e.prototype._e=function(t){var r=this.out;if(r!==c)try{this.ins._remove(this),(this.ins=this.f(t))._add(this)}catch(n){r._e(n)}},e.prototype._c=function(){var t=this.out;t!==c&&t._c()},e}(),Zo=function(){function e(t,r){this.type="startWith",this.ins=t,this.out=c,this.val=r}return e.prototype._start=function(t){this.out=t,this.out._n(this.val),this.ins._add(t)},e.prototype._stop=function(){this.ins._remove(this.out),this.out=c},e}(),Qo=function(){function e(t,r){this.type="take",this.ins=r,this.out=c,this.max=t,this.taken=0}return e.prototype._start=function(t){this.out=t,this.taken=0,this.max<=0?t._c():this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=c},e.prototype._n=function(t){var r=this.out;if(r!==c){var n=++this.taken;n<this.max?r._n(t):n===this.max&&(r._n(t),r._c())}},e.prototype._e=function(t){var r=this.out;r!==c&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==c&&t._c()},e}(),ce=function(){function e(t){this._prod=t||c,this._ils=[],this._stopID=c,this._dl=c,this._d=!1,this._target=null,this._err=c}return e.prototype._n=function(t){var r=this._ils,n=r.length;if(this._d&&this._dl._n(t),n==1)r[0]._n(t);else{if(n==0)return;for(var o=Ct(r),i=0;i<n;i++)o[i]._n(t)}},e.prototype._e=function(t){if(this._err===c){this._err=t;var r=this._ils,n=r.length;if(this._x(),this._d&&this._dl._e(t),n==1)r[0]._e(t);else{if(n==0)return;for(var o=Ct(r),i=0;i<n;i++)o[i]._e(t)}if(!this._d&&n==0)throw this._err}},e.prototype._c=function(){var t=this._ils,r=t.length;if(this._x(),this._d&&this._dl._c(),r==1)t[0]._c();else{if(r==0)return;for(var n=Ct(t),o=0;o<r;o++)n[o]._c()}},e.prototype._x=function(){this._ils.length!==0&&(this._prod!==c&&this._prod._stop(),this._err=c,this._ils=[])},e.prototype._stopNow=function(){this._prod._stop(),this._err=c,this._stopID=c},e.prototype._add=function(t){var r=this._target;if(r)return r._add(t);var n=this._ils;if(n.push(t),!(n.length>1))if(this._stopID!==c)clearTimeout(this._stopID),this._stopID=c;else{var o=this._prod;o!==c&&o._start(this)}},e.prototype._remove=function(t){var r=this,n=this._target;if(n)return n._remove(t);var o=this._ils,i=o.indexOf(t);i>-1&&(o.splice(i,1),this._prod!==c&&o.length<=0?(this._err=c,this._stopID=setTimeout(function(){return r._stopNow()})):o.length===1&&this._pruneCycles())},e.prototype._pruneCycles=function(){this._hasNoSinks(this,[])&&this._remove(this._ils[0])},e.prototype._hasNoSinks=function(t,r){if(r.indexOf(t)!==-1)return!0;if(t.out===this)return!0;if(t.out&&t.out!==c)return this._hasNoSinks(t.out,r.concat(t));if(t._ils){for(var n=0,o=t._ils.length;n<o;n++)if(!this._hasNoSinks(t._ils[n],r.concat(t)))return!1;return!0}else return!1},e.prototype.ctor=function(){return this instanceof H?H:e},e.prototype.addListener=function(t){t._n=t.next||L,t._e=t.error||L,t._c=t.complete||L,this._add(t)},e.prototype.removeListener=function(t){this._remove(t)},e.prototype.subscribe=function(t){return this.addListener(t),new Lo(this,t)},e.prototype[Nt]=function(){return this},e.create=function(t){if(t){if(typeof t.start!="function"||typeof t.stop!="function")throw new Error("producer requires both start and stop functions");Mr(t)}return new e(t)},e.createWithMemory=function(t){return t&&Mr(t),new H(t)},e.never=function(){return new e({_start:L,_stop:L})},e.empty=function(){return new e({_start:function(t){t._c()},_stop:L})},e.throw=function(t){return new e({_start:function(r){r._e(t)},_stop:L})},e.from=function(t){if(typeof t[Nt]=="function")return e.fromObservable(t);if(typeof t.then=="function")return e.fromPromise(t);if(Array.isArray(t))return e.fromArray(t);throw new TypeError("Type of input to from() must be an Array, Promise, or Observable")},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.fromArray(t)},e.fromArray=function(t){return new e(new Bo(t))},e.fromPromise=function(t){return new e(new Ro(t))},e.fromObservable=function(t){if(t.endWhen!==void 0)return t;var r=typeof t[Nt]=="function"?t[Nt]():t;return new e(new Io(r))},e.periodic=function(t){return new e(new $o(t))},e.prototype._map=function(t){return new(this.ctor())(new Xo(t,this))},e.prototype.map=function(t){return this._map(t)},e.prototype.mapTo=function(t){var r=this.map(function(){return t}),n=r._prod;return n.type="mapTo",r},e.prototype.filter=function(t){var r=this._prod;return r instanceof le?new e(new le(Co(r.f,t),r.ins)):new e(new le(t,this))},e.prototype.take=function(t){return new(this.ctor())(new Qo(t,this))},e.prototype.drop=function(t){return new e(new Uo(t,this))},e.prototype.last=function(){return new e(new Ko(this))},e.prototype.startWith=function(t){return new H(new Zo(this,t))},e.prototype.endWhen=function(t){return new(this.ctor())(new qo(t,this))},e.prototype.fold=function(t,r){return new H(new Jo(t,r,this))},e.prototype.replaceError=function(t){return new(this.ctor())(new Vo(t,this))},e.prototype.flatten=function(){return new e(new zo(this))},e.prototype.compose=function(t){return t(this)},e.prototype.remember=function(){return new H(new Yo(this))},e.prototype.debug=function(t){return new(this.ctor())(new Wo(this,t))},e.prototype.imitate=function(t){if(t instanceof H)throw new Error("A MemoryStream was given to imitate(), but it only supports a Stream. Read more about this restriction here: https://github.com/staltz/xstream#faq");this._target=t;for(var r=this._ils,n=r.length,o=0;o<n;o++)t._add(r[o]);this._ils=[]},e.prototype.shamefullySendNext=function(t){this._n(t)},e.prototype.shamefullySendError=function(t){this._e(t)},e.prototype.shamefullySendComplete=function(){this._c()},e.prototype.setDebugListener=function(t){t?(this._d=!0,t._n=t.next||L,t._e=t.error||L,t._c=t.complete||L,this._dl=t):(this._d=!1,this._dl=c)},e.merge=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new e(new ko(r))},e.combine=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new e(new jo(r))},e}();j.Stream=ce;var H=function(e){Mo(t,e);function t(r){var n=e.call(this,r)||this;return n._has=!1,n}return t.prototype._n=function(r){this._v=r,this._has=!0,e.prototype._n.call(this,r)},t.prototype._add=function(r){var n=this._target;if(n)return n._add(r);var o=this._ils;if(o.push(r),o.length>1){this._has&&r._n(this._v);return}if(this._stopID!==c)this._has&&r._n(this._v),clearTimeout(this._stopID),this._stopID=c;else if(this._has)r._n(this._v);else{var i=this._prod;i!==c&&i._start(this)}},t.prototype._stopNow=function(){this._has=!1,e.prototype._stopNow.call(this)},t.prototype._x=function(){this._has=!1,e.prototype._x.call(this)},t.prototype.map=function(r){return this._map(r)},t.prototype.mapTo=function(r){return e.prototype.mapTo.call(this,r)},t.prototype.take=function(r){return e.prototype.take.call(this,r)},t.prototype.endWhen=function(r){return e.prototype.endWhen.call(this,r)},t.prototype.replaceError=function(r){return e.prototype.replaceError.call(this,r)},t.prototype.remember=function(){return this},t.prototype.debug=function(r){return e.prototype.debug.call(this,r)},t}(ce);j.MemoryStream=H;var ti=ce;j.default=ti});var Br=N(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});var oi=U(),ii=function(){function e(t){this.streams=t,this.type="concat",this.out=null,this.i=0}return e.prototype._start=function(t){this.out=t,this.streams[this.i]._add(this)},e.prototype._stop=function(){var t=this.streams;this.i<t.length&&t[this.i]._remove(this),this.i=0,this.out=null},e.prototype._n=function(t){var r=this.out;!r||r._n(t)},e.prototype._e=function(t){var r=this.out;!r||r._e(t)},e.prototype._c=function(){var t=this.out;if(!!t){var r=this.streams;r[this.i]._remove(this),++this.i<r.length?r[this.i]._add(this):t._c()}},e}();function ai(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new oi.Stream(new ii(e))}ge.default=ai});var Ur=N(G=>{"use strict";var si=G&&G.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(G,"__esModule",{value:!0});G.SampleCombineOperator=G.SampleCombineListener=void 0;var ui=U(),z={},Rr=function(){function e(t,r){this.i=t,this.p=r,r.ils[t]=this}return e.prototype._n=function(t){var r=this.p;r.out!==z&&r.up(t,this.i)},e.prototype._e=function(t){this.p._e(t)},e.prototype._c=function(){this.p.down(this.i,this)},e}();G.SampleCombineListener=Rr;var $r=function(){function e(t,r){this.type="sampleCombine",this.ins=t,this.others=r,this.out=z,this.ils=[],this.Nn=0,this.vals=[]}return e.prototype._start=function(t){this.out=t;for(var r=this.others,n=this.Nn=r.length,o=this.vals=new Array(n),i=0;i<n;i++)o[i]=z,r[i]._add(new Rr(i,this));this.ins._add(this)},e.prototype._stop=function(){var t=this.others,r=t.length,n=this.ils;this.ins._remove(this);for(var o=0;o<r;o++)t[o]._remove(n[o]);this.out=z,this.vals=[],this.ils=[]},e.prototype._n=function(t){var r=this.out;r!==z&&(this.Nn>0||r._n(si([t],this.vals)))},e.prototype._e=function(t){var r=this.out;r!==z&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==z&&t._c()},e.prototype.up=function(t,r){var n=this.vals[r];this.Nn>0&&n===z&&this.Nn--,this.vals[r]=t},e.prototype.down=function(t,r){this.others[t]._remove(r)},e}();G.SampleCombineOperator=$r;var Wr;Wr=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(o){return new ui.Stream(new $r(o,t))}};G.default=Wr});function mn(e,t){return document.createElement(e,t)}function yn(e,t,r){return document.createElementNS(e,t,r)}function vn(){return K(document.createDocumentFragment())}function gn(e){return document.createTextNode(e)}function _n(e){return document.createComment(e)}function bn(e,t,r){if(W(e)){let n=e;for(;n&&W(n);)n=K(n).parent;e=n!=null?n:e}W(t)&&(t=K(t,e)),r&&W(r)&&(r=K(r).firstChildNode),e.insertBefore(t,r)}function xn(e,t){e.removeChild(t)}function Sn(e,t){W(t)&&(t=K(t,e)),e.appendChild(t)}function Ee(e){if(W(e)){for(;e&&W(e);)e=K(e).parent;return e!=null?e:null}return e.parentNode}function wn(e){var t;if(W(e)){let r=K(e),n=Ee(r);if(n&&r.lastChildNode){let o=Array.from(n.childNodes),i=o.indexOf(r.lastChildNode);return(t=o[i+1])!==null&&t!==void 0?t:null}return null}return e.nextSibling}function An(e){return e.tagName}function On(e,t){e.textContent=t}function En(e){return e.textContent}function Pn(e){return e.nodeType===1}function Mn(e){return e.nodeType===3}function Dn(e){return e.nodeType===8}function W(e){return e.nodeType===11}function K(e,t){var r,n,o;let i=e;return(r=i.parent)!==null&&r!==void 0||(i.parent=t!=null?t:null),(n=i.firstChildNode)!==null&&n!==void 0||(i.firstChildNode=e.firstChild),(o=i.lastChildNode)!==null&&o!==void 0||(i.lastChildNode=e.lastChild),i}var xt={createElement:mn,createElementNS:yn,createTextNode:gn,createDocumentFragment:vn,createComment:_n,insertBefore:bn,removeChild:xn,appendChild:Sn,parentNode:Ee,nextSibling:wn,tagName:An,setTextContent:On,getTextContent:En,isElement:Pn,isText:Mn,isComment:Dn,isDocumentFragment:W};function F(e,t,r,n,o){let i=t===void 0?void 0:t.key;return{sel:e,data:t,children:r,text:n,elm:o,key:i}}var at=Array.isArray;function Q(e){return typeof e=="string"||typeof e=="number"||e instanceof String||e instanceof Number}function Ut(e){return e===void 0}function k(e){return e!==void 0}var Gt=F("",{},[],void 0,void 0);function st(e,t){var r,n;let o=e.key===t.key,i=((r=e.data)===null||r===void 0?void 0:r.is)===((n=t.data)===null||n===void 0?void 0:n.is),a=e.sel===t.sel,s=!e.sel&&e.sel===t.sel?typeof e.text==typeof t.text:!0;return a&&o&&i&&s}function Nn(){throw new Error("The document fragment is not supported on this platform.")}function Cn(e,t){return e.isElement(t)}function Ln(e,t){return e.isDocumentFragment(t)}function Fn(e,t,r){var n;let o={};for(let i=t;i<=r;++i){let a=(n=e[i])===null||n===void 0?void 0:n.key;a!==void 0&&(o[a]=i)}return o}var In=["create","update","remove","destroy","pre","post"];function qt(e,t,r){let n={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},o=t!==void 0?t:xt;for(let p of In)for(let f of e){let h=f[p];h!==void 0&&n[p].push(h)}function i(p){let f=p.id?"#"+p.id:"",h=p.getAttribute("class"),y=h?"."+h.split(" ").join("."):"";return F(o.tagName(p).toLowerCase()+f+y,{},[],void 0,p)}function a(p){return F(void 0,{},[],void 0,p)}function s(p,f){return function(){if(--f===0){let y=o.parentNode(p);o.removeChild(y,p)}}}function u(p,f){var h,y,w,x;let g,b=p.data;if(b!==void 0){let A=(h=b.hook)===null||h===void 0?void 0:h.init;k(A)&&(A(p),b=p.data)}let S=p.children,E=p.sel;if(E==="!")Ut(p.text)&&(p.text=""),p.elm=o.createComment(p.text);else if(E!==void 0){let A=E.indexOf("#"),M=E.indexOf(".",A),C=A>0?A:E.length,D=M>0?M:E.length,I=A!==-1||M!==-1?E.slice(0,Math.min(C,D)):E,$=p.elm=k(b)&&k(g=b.ns)?o.createElementNS(g,I,b):o.createElement(I,b);for(C<D&&$.setAttribute("id",E.slice(C+1,D)),M>0&&$.setAttribute("class",E.slice(D+1).replace(/\./g," ")),g=0;g<n.create.length;++g)n.create[g](Gt,p);if(at(S))for(g=0;g<S.length;++g){let Ae=S[g];Ae!=null&&o.appendChild($,u(Ae,f))}else Q(p.text)&&o.appendChild($,o.createTextNode(p.text));let bt=p.data.hook;k(bt)&&((y=bt.create)===null||y===void 0||y.call(bt,Gt,p),bt.insert&&f.push(p))}else if(((w=r==null?void 0:r.experimental)===null||w===void 0?void 0:w.fragments)&&p.children){for(p.elm=((x=o.createDocumentFragment)!==null&&x!==void 0?x:Nn)(),g=0;g<n.create.length;++g)n.create[g](Gt,p);for(g=0;g<p.children.length;++g){let A=p.children[g];A!=null&&o.appendChild(p.elm,u(A,f))}}else p.elm=o.createTextNode(p.text);return p.elm}function d(p,f,h,y,w,x){for(;y<=w;++y){let g=h[y];g!=null&&o.insertBefore(p,u(g,x),f)}}function m(p){var f,h;let y=p.data;if(y!==void 0){(h=(f=y==null?void 0:y.hook)===null||f===void 0?void 0:f.destroy)===null||h===void 0||h.call(f,p);for(let w=0;w<n.destroy.length;++w)n.destroy[w](p);if(p.children!==void 0)for(let w=0;w<p.children.length;++w){let x=p.children[w];x!=null&&typeof x!="string"&&m(x)}}}function v(p,f,h,y){for(var w,x;h<=y;++h){let g,b,S=f[h];if(S!=null)if(k(S.sel)){m(S),g=n.remove.length+1,b=s(S.elm,g);for(let A=0;A<n.remove.length;++A)n.remove[A](S,b);let E=(x=(w=S==null?void 0:S.data)===null||w===void 0?void 0:w.hook)===null||x===void 0?void 0:x.remove;k(E)?E(S,b):b()}else S.children?(m(S),v(p,S.children,0,S.children.length-1)):o.removeChild(p,S.elm)}}function _(p,f,h,y){let w=0,x=0,g=f.length-1,b=f[0],S=f[g],E=h.length-1,A=h[0],M=h[E],C,D,I,$;for(;w<=g&&x<=E;)b==null?b=f[++w]:S==null?S=f[--g]:A==null?A=h[++x]:M==null?M=h[--E]:st(b,A)?(O(b,A,y),b=f[++w],A=h[++x]):st(S,M)?(O(S,M,y),S=f[--g],M=h[--E]):st(b,M)?(O(b,M,y),o.insertBefore(p,b.elm,o.nextSibling(S.elm)),b=f[++w],M=h[--E]):st(S,A)?(O(S,A,y),o.insertBefore(p,S.elm,b.elm),S=f[--g],A=h[++x]):(C===void 0&&(C=Fn(f,w,g)),D=C[A.key],Ut(D)?o.insertBefore(p,u(A,y),b.elm):(I=f[D],I.sel!==A.sel?o.insertBefore(p,u(A,y),b.elm):(O(I,A,y),f[D]=void 0,o.insertBefore(p,I.elm,b.elm))),A=h[++x]);x<=E&&($=h[E+1]==null?null:h[E+1].elm,d(p,$,h,x,E,y)),w<=g&&v(p,f,w,g)}function O(p,f,h){var y,w,x,g,b,S,E,A;let M=(y=f.data)===null||y===void 0?void 0:y.hook;(w=M==null?void 0:M.prepatch)===null||w===void 0||w.call(M,p,f);let C=f.elm=p.elm;if(p===f)return;if(f.data!==void 0||k(f.text)&&f.text!==p.text){(x=f.data)!==null&&x!==void 0||(f.data={}),(g=p.data)!==null&&g!==void 0||(p.data={});for(let $=0;$<n.update.length;++$)n.update[$](p,f);(E=(S=(b=f.data)===null||b===void 0?void 0:b.hook)===null||S===void 0?void 0:S.update)===null||E===void 0||E.call(S,p,f)}let D=p.children,I=f.children;Ut(f.text)?k(D)&&k(I)?D!==I&&_(C,D,I,h):k(I)?(k(p.text)&&o.setTextContent(C,""),d(C,null,I,0,I.length-1,h)):k(D)?v(C,D,0,D.length-1):k(p.text)&&o.setTextContent(C,""):p.text!==f.text&&(k(D)&&v(C,D,0,D.length-1),o.setTextContent(C,f.text)),(A=M==null?void 0:M.postpatch)===null||A===void 0||A.call(M,p,f)}return function(f,h){let y,w,x,g=[];for(y=0;y<n.pre.length;++y)n.pre[y]();for(Cn(o,f)?f=i(f):Ln(o,f)&&(f=a(f)),st(f,h)?O(f,h,g):(w=f.elm,x=o.parentNode(w),u(h,g),x!==null&&(o.insertBefore(x,h.elm,o.nextSibling(w)),v(x,[f],0,0))),y=0;y<g.length;++y)g[y].data.hook.insert(g[y]);for(y=0;y<n.post.length;++y)n.post[y]();return h}}function St(e,t,r){if(e.ns="http://www.w3.org/2000/svg",r!=="foreignObject"&&t!==void 0)for(let n=0;n<t.length;++n){let o=t[n];if(typeof o=="string")continue;let i=o.data;i!==void 0&&St(i,o.children,o.sel)}}function T(e,t,r){let n={},o,i,a;if(r!==void 0?(t!==null&&(n=t),at(r)?o=r:Q(r)?i=r.toString():r&&r.sel&&(o=[r])):t!=null&&(at(t)?o=t:Q(t)?i=t.toString():t&&t.sel?o=[t]:n=t),o!==void 0)for(a=0;a<o.length;++a)Q(o[a])&&(o[a]=F(void 0,void 0,void 0,o[a],void 0));return e[0]==="s"&&e[1]==="v"&&e[2]==="g"&&(e.length===3||e[3]==="."||e[3]==="#")&&St(n,o,e),F(e,n,o,i,void 0)}function ut(e,t){let r=t!==void 0?t:xt,n;if(r.isElement(e)){let o=e.id?"#"+e.id:"",i=e.getAttribute("class"),a=i?"."+i.split(" ").join("."):"",s=r.tagName(e).toLowerCase()+o+a,u={},d={},m={},v=[],_,O,p,f=e.attributes,h=e.childNodes;for(O=0,p=f.length;O<p;O++)_=f[O].nodeName,_[0]==="d"&&_[1]==="a"&&_[2]==="t"&&_[3]==="a"&&_[4]==="-"?d[_.slice(5)]=f[O].nodeValue||"":_!=="id"&&_!=="class"&&(u[_]=f[O].nodeValue);for(O=0,p=h.length;O<p;O++)v.push(ut(h[O],t));return Object.keys(u).length>0&&(m.attrs=u),Object.keys(d).length>0&&(m.dataset=d),s[0]==="s"&&s[1]==="v"&&s[2]==="g"&&(s.length===3||s[3]==="."||s[3]==="#")&&St(m,v,s),F(s,m,v,void 0,e)}else return r.isText(e)?(n=r.getTextContent(e),F(void 0,void 0,void 0,n,e)):r.isComment(e)?(n=r.getTextContent(e),F("!",{},[],n,e)):F("",{},[],void 0,e)}var kn="http://www.w3.org/1999/xlink",Tn="http://www.w3.org/XML/1998/namespace";function Me(e,t){let r,n=t.elm,o=e.data.attrs,i=t.data.attrs;if(!(!o&&!i)&&o!==i){o=o||{},i=i||{};for(r in i){let a=i[r];o[r]!==a&&(a===!0?n.setAttribute(r,""):a===!1?n.removeAttribute(r):r.charCodeAt(0)!==120?n.setAttribute(r,a):r.charCodeAt(3)===58?n.setAttributeNS(Tn,r,a):r.charCodeAt(5)===58?n.setAttributeNS(kn,r,a):n.setAttribute(r,a))}for(r in o)r in i||n.removeAttribute(r)}}var Ht={create:Me,update:Me};function De(e,t){let r,n,o=t.elm,i=e.data.class,a=t.data.class;if(!(!i&&!a)&&i!==a){i=i||{},a=a||{};for(n in i)i[n]&&!Object.prototype.hasOwnProperty.call(a,n)&&o.classList.remove(n);for(n in a)r=a[n],r!==i[n]&&o.classList[r?"add":"remove"](n)}}var zt={create:De,update:De};var Ne=/[A-Z]/g;function Ce(e,t){let r=t.elm,n=e.data.dataset,o=t.data.dataset,i;if(!n&&!o||n===o)return;n=n||{},o=o||{};let a=r.dataset;for(i in n)o[i]||(a?i in a&&delete a[i]:r.removeAttribute("data-"+i.replace(Ne,"-$&").toLowerCase()));for(i in o)n[i]!==o[i]&&(a?a[i]=o[i]:r.setAttribute("data-"+i.replace(Ne,"-$&").toLowerCase(),o[i]))}var Jt={create:Ce,update:Ce};function Le(e,t){let r,n,o,i=t.elm,a=e.data.props,s=t.data.props;if(!(!a&&!s)&&a!==s){a=a||{},s=s||{};for(r in s)n=s[r],o=a[r],o!==n&&(r!=="value"||i[r]!==n)&&(i[r]=n)}}var Kt={create:Le,update:Le};var Fe=typeof window!="undefined"&&window.requestAnimationFrame.bind(window)||setTimeout,jn=function(e){Fe(function(){Fe(e)})},Xt=!1;function Bn(e,t,r){jn(function(){e[t]=r})}function Ie(e,t){let r,n,o=t.elm,i=e.data.style,a=t.data.style;if(!i&&!a||i===a)return;i=i||{},a=a||{};let s="delayed"in i;for(n in i)a[n]||(n[0]==="-"&&n[1]==="-"?o.style.removeProperty(n):o.style[n]="");for(n in a)if(r=a[n],n==="delayed"&&a.delayed)for(let u in a.delayed)r=a.delayed[u],(!s||r!==i.delayed[u])&&Bn(o.style,u,r);else n!=="remove"&&r!==i[n]&&(n[0]==="-"&&n[1]==="-"?o.style.setProperty(n,r):o.style[n]=r)}function Rn(e){let t,r,n=e.elm,o=e.data.style;if(!(!o||!(t=o.destroy)))for(r in t)n.style[r]=t[r]}function $n(e,t){let r=e.data.style;if(!r||!r.remove){t();return}Xt||(e.elm.offsetLeft,Xt=!0);let n,o=e.elm,i=0,a=r.remove,s=0,u=[];for(n in a)u.push(n),o.style[n]=a[n];let m=getComputedStyle(o)["transition-property"].split(", ");for(;i<m.length;++i)u.indexOf(m[i])!==-1&&s++;o.addEventListener("transitionend",function(v){v.target===o&&--s,s===0&&t()})}function Wn(){Xt=!1}var Yt={pre:Wn,create:Ie,update:Ie,destroy:Rn,remove:$n};function wt(e,t){t.elm=e.elm,e.data.fn=t.data.fn,e.data.args=t.data.args,e.data.isolate=t.data.isolate,t.data=e.data,t.children=e.children,t.text=e.text,t.elm=e.elm}function Un(e){var t=e.data,r=t.fn.apply(void 0,t.args);wt(r,e)}function Gn(e,t){var r=e.data,n=t.data,o,i=r.args,a=n.args;for((r.fn!==n.fn||i.length!==a.length)&&wt(n.fn.apply(void 0,a),t),o=0;o<a.length;++o)if(i[o]!==a[o]){wt(n.fn.apply(void 0,a),t);return}wt(e,t)}function qn(e,t,r,n){return n===void 0&&(n=r,r=t,t=void 0),T(e,{key:t,hook:{init:Un,prepatch:Gn},fn:r,args:n})}var jt=B(ft());var de=B(U()),Lt=B(ft());var Dr=B(U());function V(e,t,r,n,o){r===void 0&&(r=!1),n===void 0&&(n=!1),o===void 0&&(o=!1);var i=null;return Dr.Stream.create({start:function(s){n?i=function(d){he(d,n),s.next(d)}:i=function(d){s.next(d)},e.addEventListener(t,i,{capture:r,passive:o})},stop:function(){e.removeEventListener(t,i,r),i=null}})}function Nr(e,t){for(var r=Object.keys(e),n=r.length,o=0;o<n;o++){var i=r[o];if(typeof e[i]=="object"&&typeof t[i]=="object"){if(!Nr(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1}return!0}function he(e,t){if(t)if(typeof t=="boolean")e.preventDefault();else if(ei(t))t(e)&&e.preventDefault();else if(typeof t=="object")Nr(t,e)&&e.preventDefault();else throw new Error("preventDefault has to be either a boolean, predicate function or object")}function ei(e){return typeof e=="function"}var Cr=function(){function e(t){this._name=t}return e.prototype.select=function(t){return this},e.prototype.elements=function(){var t=(0,Lt.adapt)(de.default.of([document]));return t._isCycleSource=this._name,t},e.prototype.element=function(){var t=(0,Lt.adapt)(de.default.of(document));return t._isCycleSource=this._name,t},e.prototype.events=function(t,r,n){r===void 0&&(r={});var o;o=V(document,t,r.useCapture,r.preventDefault);var i=(0,Lt.adapt)(o);return i._isCycleSource=this._name,i},e}();var me=B(U()),Ft=B(ft());var Lr=function(){function e(t){this._name=t}return e.prototype.select=function(t){return this},e.prototype.elements=function(){var t=(0,Ft.adapt)(me.default.of([document.body]));return t._isCycleSource=this._name,t},e.prototype.element=function(){var t=(0,Ft.adapt)(me.default.of(document.body));return t._isCycleSource=this._name,t},e.prototype.events=function(t,r,n){r===void 0&&(r={});var o;o=V(document.body,t,r.useCapture,r.preventDefault);var i=(0,Ft.adapt)(o);return i._isCycleSource=this._name,i},e}();function ri(e){var t=1,r=11;return typeof HTMLElement=="object"?e instanceof HTMLElement||e instanceof DocumentFragment:e&&typeof e=="object"&&e!==null&&(e.nodeType===t||e.nodeType===r)&&typeof e.nodeName=="string"}function Fr(e){return e.length>1&&(e[0]==="."||e[0]==="#")}function Ir(e){return e.nodeType===11}function kr(e){if(typeof e!="string"&&!ri(e))throw new Error("Given container is not a DOM element neither a selector string.")}function Tr(e){var t=typeof e=="string"?document.querySelector(e):e;if(typeof e=="string"&&t===null)throw new Error("Cannot render into unknown element `"+e+"`");return t}function It(e){for(var t="",r=e.length-1;r>=0&&e[r].type==="selector";r--)t=e[r].scope+" "+t;return t.trim()}function it(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==t[r].type||e[r].scope!==t[r].scope)return!1;return!0}var kt=function(){function e(t,r){this.namespace=t,this.isolateModule=r,this._namespace=t.filter(function(n){return n.type!=="selector"})}return e.prototype.isDirectlyInScope=function(t){var r=this.isolateModule.getNamespace(t);if(!r||this._namespace.length>r.length||!it(this._namespace,r.slice(0,this._namespace.length)))return!1;for(var n=this._namespace.length;n<r.length;n++)if(r[n].type==="total")return!1;return!0},e}();function ni(e){return Array.prototype.slice.call(e)}var Tt=function(){function e(t,r){this.namespace=t,this.isolateModule=r}return e.prototype.call=function(){var t=this.namespace,r=It(t),n=new kt(t,this.isolateModule),o=this.isolateModule.getElement(t.filter(function(i){return i.type!=="selector"}));return o===void 0?[]:r===""?[o]:ni(o.querySelectorAll(r)).filter(n.isDirectlyInScope,n).concat(o.matches(r)?[o]:[])},e}();var ht=function(){return ht=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ht.apply(this,arguments)};function jr(e){return function(t,r){return r===":root"?t:t.map(function(n){if(!n)return n;var o=ye(r),i=ht({},n,{data:ht({},n.data,{isolate:!n.data||!Array.isArray(n.data.isolate)?e.concat([o]):n.data.isolate})});return ht({},i,{key:i.key!==void 0?i.key:JSON.stringify(i.data.isolate)})})}}function ye(e){return{type:Fr(e)?"sibling":"total",scope:e}}var ve=function(){function e(t,r,n,o,i,a){n===void 0&&(n=[]),this._rootElement$=t,this._sanitation$=r,this._namespace=n,this._isolateModule=o,this._eventDelegator=i,this._name=a,this.isolateSource=function(s,u){return new e(s._rootElement$,s._sanitation$,s._namespace.concat(ye(u)),s._isolateModule,s._eventDelegator,s._name)},this.isolateSink=jr(this._namespace)}return e.prototype._elements=function(){if(this._namespace.length===0)return this._rootElement$.map(function(r){return[r]});var t=new Tt(this._namespace,this._isolateModule);return this._rootElement$.map(function(){return t.call()})},e.prototype.elements=function(){var t=(0,jt.adapt)(this._elements().remember());return t._isCycleSource=this._name,t},e.prototype.element=function(){var t=(0,jt.adapt)(this._elements().filter(function(r){return r.length>0}).map(function(r){return r[0]}).remember());return t._isCycleSource=this._name,t},Object.defineProperty(e.prototype,"namespace",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),e.prototype.select=function(t){if(typeof t!="string")throw new Error("DOM driver's select() expects the argument to be a string as a CSS selector");if(t==="document")return new Cr(this._name);if(t==="body")return new Lr(this._name);var r=t===":root"?[]:this._namespace.concat({type:"selector",scope:t.trim()});return new e(this._rootElement$,this._sanitation$,r,this._isolateModule,this._eventDelegator,this._name)},e.prototype.events=function(t,r,n){if(r===void 0&&(r={}),typeof t!="string")throw new Error("DOM driver's events() expects argument to be a string representing the event type to listen for.");var o=this._eventDelegator.addEventListener(t,this._namespace,r,n),i=(0,jt.adapt)(o);return i._isCycleSource=this._name,i},e.prototype.dispose=function(){this._sanitation$.shamefullySendNext(null)},e}();var Z=B(U()),tn=B(Br()),en=B(Ur());var fi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},dt="[\\w-]+",R="[ 	]*",qr="[^\\]]+",li="(?:\\."+dt+")",pi="(?:#"+dt+")",Hr="(?:=|\\$=|\\^=|\\*=|~=|\\|=)",ci="(?:\\["+R+dt+R+"(?:"+Hr+R+qr+R+")?\\])",hi="(?:[ 	]+)",di="(?:"+R+"(>)"+R+")",mi="(?:"+R+"(\\+)"+R+")",yi="(?:"+R+"(~)"+R+")",zr="(?:"+hi+"|"+di+"|"+mi+"|"+yi+")",vi='contains\\("[^"]*"\\)',gi="(?:even|odd|\\d*(?:-?n(?:\\+\\d+)?)?)",_i="nth-child\\("+gi+"\\)",bi=":(?:first-child|last-child|"+_i+"|empty|root|"+vi+")",xi="(:?"+dt+")?",Si=li+"|"+pi+"|"+ci+"|"+bi+"|"+zr,Gr=new RegExp("^"+zr+"$");function mt(e){var t=e.trim(),r=new RegExp(xi,"y"),n=r.exec(t)[0],o=new RegExp(Si,"y");o.lastIndex=r.lastIndex;for(var i=[],a=void 0,s=void 0,u=-1;o.lastIndex<t.length;){var d=o.exec(t);if(!d&&s===void 0)throw new Error("Parse error, invalid selector");if(d&&Gr.test(d[0])){var m=Gr.exec(d[0])[0];s=m,u=o.lastIndex}else{if(s!==void 0){a=[Ei(s),mt(t.substring(u))];break}i.push(d[0])}}var v=i.filter(function(h){return h.startsWith(".")}).map(function(h){return h.substring(1)}),_=i.filter(function(h){return h.startsWith("#")}).map(function(h){return h.substring(1)});if(_.length>1)throw new Error("Invalid selector, only one id is allowed");var O=new RegExp("("+dt+")"+R+"("+Hr+")?"+R+"("+qr+")?"),p=i.filter(function(h){return h.startsWith("[")}).map(function(h){return O.exec(h).slice(1,4)}).map(function(h){var y=h[0],w=h[1],x=h[2];return g={},g[y]=[Oi(w),x&&wi(x)],g;var g}).reduce(function(h,y){return fi({},h,y)},{}),f=i.filter(function(h){return h.startsWith(":")}).map(function(h){return Ai(h.substring(1))});return{id:_[0]||"",tag:n,classList:v,attributes:p,nextSelector:a,pseudos:f}}function wi(e){if(e.startsWith('"'))return e.slice(1,-1);if(e==="true")return!0;if(e==="false")return!1;var t=parseFloat(e);return isNaN(t)?e:t}function Ai(e){if(e==="first-child"||e==="last-child"||e==="root"||e==="empty")return[e,void 0];if(e.startsWith("contains")){var t=e.slice(10,-2);return["contains",t]}var r=e.slice(10,-1);return r==="even"&&(r="2n"),r==="odd"&&(r="2n+1"),["nth-child",r]}function Oi(e){switch(e){case"=":return"exact";case"^=":return"startsWith";case"$=":return"endsWith";case"*=":return"contains";case"~=":return"whitespace";case"|=":return"dash";default:return"has"}}function Ei(e){switch(e.trim()){case">":return"child";case"+":return"nextSibling";case"~":return"sibling";default:return"subtree"}}function yt(e){return function(r,n){var o=typeof r=="object"?r:mt(r),i=o.tag,a=o.id,s=o.classList,u=o.attributes,d=o.nextSelector,m=o.pseudos;if(d!==void 0)throw new Error("matches can only process selectors that target a single element");if(!n||i&&i.toLowerCase()!==e.tag(n).toLowerCase()||a&&a!==e.id(n))return!1;for(var v=e.className(n).split(" "),_=0;_<s.length;_++)if(v.indexOf(s[_])===-1)return!1;for(var O in u){var p=e.attr(n,O),f=u[O][0],h=u[O][1];if(p===void 0)return!1;if(f==="has")return!0;if(f==="exact"&&p!==h)return!1;if(f!=="exact"){if(typeof h!="string")throw new Error("All non-string values have to be an exact match");if(f==="startsWith"&&!p.startsWith(h)||f==="endsWith"&&!p.endsWith(h)||f==="contains"&&p.indexOf(h)===-1||f==="whitespace"&&p.split(" ").indexOf(h)===-1||f==="dash"&&p.split("-").indexOf(h)===-1)return!1}}for(var _=0;_<m.length;_++){var y=m[_],f=y[0],w=y[1];if(f==="contains"&&w!==e.contents(n)||f==="empty"&&(e.contents(n)||e.children(n).length!==0)||f==="root"&&e.parent(n)!==void 0)return!1;if(f.indexOf("child")!==-1){if(!e.parent(n))return!1;var x=e.children(e.parent(n));if(f==="first-child"&&x.indexOf(n)!==0||f==="last-child"&&x.indexOf(n)!==x.length-1)return!1;if(f==="nth-child"){var g=/([\+-]?)(\d*)(n?)(\+\d+)?/,b=g.exec(w).slice(1),S=x.indexOf(n);b[0]||(b[0]="+");var E=b[1]?parseInt(b[0]+b[1]):void 0,A=parseInt(b[3]||"0");if(E&&b[2]==="n"&&S%E!==A)return!1;if(!E&&b[2]&&(b[0]==="+"&&S-A<0||b[0]==="-"&&S-A>=0))return!1;if(!b[2]&&E&&S!==E-1)return!1}}}return!0}}function _e(e,t){var r=t||yt(e);function n(i,a,s){if(!s)return[];var u=r(i,s),d=u?typeof u=="object"?[u]:[s]:[];if(a===0)return d;var m=e.children(s).filter(function(v){return typeof v!="string"}).map(function(v){return n(i,a-1,v)}).reduce(function(v,_){return v.concat(_)},[]);return d.concat(m)}function o(i,a,s){if(!s||e.parent(s)===void 0)return[];for(var u=[],d=e.children(e.parent(s)),m=d.indexOf(s)+1;m<d.length;m++)if(typeof d[m]!="string"){var v=r(i,d[m]);if(v&&(typeof v=="object"?u.push(v):u.push(d[m])),a)break}return u}return function(a,s){if(!s)return[];var u=typeof a=="object"?a:mt(a),d=[s],m=u,v="subtree",_=void 0,O=function(){if(_=m.nextSelector,m.nextSelector=void 0,v==="subtree"||v==="child"){var p=v==="subtree"?1/0:1;d=d.map(function(h){return n(m,p,h)}).reduce(function(h,y){return h.concat(y)},[])}else{var f=v==="nextSibling";d=d.map(function(h){return o(m,f,h)}).reduce(function(h,y){return h.concat(y)},[])}_&&(m=_[1],v=_[0])};do O();while(_!==void 0);return d}}function J(e){if(!e.sel)return{tagName:"",id:"",className:""};var t=e.sel,r=t.indexOf("#"),n=t.indexOf(".",r),o=r>0?r:t.length,i=n>0?n:t.length,a=r!==-1||n!==-1?t.slice(0,Math.min(o,i)):t,s=o<i?t.slice(o+1,i):void 0,u=n>0?t.slice(i+1).replace(/\./g," "):void 0;return{tagName:a,id:s,className:u}}function vt(e){var t=J(e).className,r=t===void 0?"":t;if(!e.data)return r;var n=e.data,o=n.class,i=n.props;if(o){var a=Object.keys(o).filter(function(s){return o[s]});r+=" "+a.join(" ")}return i&&i.className&&(r+=" "+i.className),r&&r.trim()}var gt;typeof self!="undefined"?gt=self:typeof window!="undefined"?gt=window:typeof global!="undefined"?gt=global:gt=Function("return this")();var Jr=gt.Symbol,be;typeof Jr=="function"?be=Jr("parent"):be="@@snabbdom-selector-parent";var xe=be;var Kr={tag:function(e){return J(e).tagName},className:function(e){return vt(e)},id:function(e){return J(e).id||""},children:function(e){return e.children||[]},parent:function(e){return e.data[xe]||e},contents:function(e){return e.text||""},attr:function(e,t){if(e.data){var r=e.data,n=r.attrs,o=n===void 0?{}:n,i=r.props,a=i===void 0?{}:i,s=r.dataset,u=s===void 0?{}:s;if(o[t])return o[t];if(a[t])return a[t];if(t.indexOf("data-")===0&&u[t.slice(5)])return u[t.slice(5)]}}},Pi=yt(Kr);function Mi(e,t){var r=t.data,n=Pi.bind(null,e);if(r&&r.fn){var o=void 0;return Array.isArray(r.args)?o=r.fn.apply(null,r.args):r.args?o=r.fn.call(null,r.args):o=r.fn(),n(o)?o:!1}return n(t)}var Di=_e(Kr,Mi);var Xr=function(){function e(t){this.rootElement=t}return e.prototype.call=function(t){if(Ir(this.rootElement))return this.wrapDocFrag(t===null?[]:[t]);if(t===null)return this.wrap([]);var r=J(t),n=r.tagName,o=r.id,i=vt(t),a=t.data||{},s=a.props||{},u=s.id,d=u===void 0?o:u,m=typeof d=="string"&&d.toUpperCase()===this.rootElement.id.toUpperCase()&&n.toUpperCase()===this.rootElement.tagName.toUpperCase()&&i.toUpperCase()===this.rootElement.className.toUpperCase();return m?t:this.wrap([t])},e.prototype.wrapDocFrag=function(t){return F("",{isolate:[]},t,void 0,this.rootElement)},e.prototype.wrap=function(t){var r=this.rootElement,n=r.tagName,o=r.id,i=r.className,a=o?"#"+o:"",s=i?"."+i.split(" ").join("."):"",u=T(""+n.toLowerCase()+a+s,{},t);return u.data=u.data||{},u.data.isolate=u.data.isolate||[],u},e}();var Ni=[Yt,zt,Kt,Ht,Jt];var Yr=Ni;var Ci=function(){function e(t){this.mapper=t,this.tree=[void 0,{}]}return e.prototype.set=function(t,r,n){for(var o=this.tree,i=n!==void 0?n:t.length,a=0;a<i;a++){var s=this.mapper(t[a]),u=o[1][s];u||(u=[void 0,{}],o[1][s]=u),o=u}o[0]=r},e.prototype.getDefault=function(t,r,n){return this.get(t,r,n)},e.prototype.get=function(t,r,n){for(var o=this.tree,i=n!==void 0?n:t.length,a=0;a<i;a++){var s=this.mapper(t[a]),u=o[1][s];if(!u)if(r)u=[void 0,{}],o[1][s]=u;else return;o=u}return r&&!o[0]&&(o[0]=r()),o[0]},e.prototype.delete=function(t){for(var r=this.tree,n=0;n<t.length-1;n++){var o=r[1][this.mapper(t[n])];if(!o)return;r=o}delete r[1][this.mapper(t[t.length-1])]},e}(),Bt=Ci;var Vr=function(){function e(){this.namespaceTree=new Bt(function(t){return t.scope}),this.namespaceByElement=new Map,this.vnodesBeingRemoved=[]}return e.prototype.setEventDelegator=function(t){this.eventDelegator=t},e.prototype.insertElement=function(t,r){this.namespaceByElement.set(r,t),this.namespaceTree.set(t,r)},e.prototype.removeElement=function(t){this.namespaceByElement.delete(t);var r=this.getNamespace(t);r&&this.namespaceTree.delete(r)},e.prototype.getElement=function(t,r){return this.namespaceTree.get(t,void 0,r)},e.prototype.getRootElement=function(t){if(this.namespaceByElement.has(t))return t;for(var r=t;!this.namespaceByElement.has(r);)if(r=r.parentNode,r){if(r.tagName==="HTML")throw new Error("No root element found, this should not happen at all")}else return;return r},e.prototype.getNamespace=function(t){var r=this.getRootElement(t);if(!!r)return this.namespaceByElement.get(r)},e.prototype.createModule=function(){var t=this;return{create:function(r,n){var o=n.elm,i=n.data,a=i===void 0?{}:i,s=a.isolate;Array.isArray(s)&&t.insertElement(s,o)},update:function(r,n){var o=r.elm,i=r.data,a=i===void 0?{}:i,s=n.elm,u=n.data,d=u===void 0?{}:u,m=a.isolate,v=d.isolate;it(m,v)||Array.isArray(m)&&t.removeElement(o),Array.isArray(v)&&t.insertElement(v,s)},destroy:function(r){t.vnodesBeingRemoved.push(r)},remove:function(r,n){t.vnodesBeingRemoved.push(r),n()},post:function(){for(var r=t.vnodesBeingRemoved,n=r.length-1;n>=0;n--){var o=r[n],i=o.data!==void 0?o.data.isolation:void 0;i!==void 0&&t.removeElement(i),t.eventDelegator.removeElement(o.elm,i)}t.vnodesBeingRemoved=[]}}},e}();var Se=B(U());var Li=function(){function e(){this.arr=[],this.prios=[]}return e.prototype.add=function(t,r){for(var n=0;n<this.arr.length;n++)if(this.prios[n]<r){this.arr.splice(n,0,t),this.prios.splice(n,0,r);return}this.arr.push(t),this.prios.push(r)},e.prototype.forEach=function(t){for(var r=0;r<this.arr.length;r++)t(this.arr[r],r,this.arr)},e.prototype.delete=function(t){for(var r=0;r<this.arr.length;r++)if(this.arr[r]===t){this.arr.splice(r,1),this.prios.splice(r,1);return}},e}(),Zr=Li;var Rt=function(){return Rt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Rt.apply(this,arguments)},Fi=["blur","canplay","canplaythrough","durationchange","emptied","ended","focus","load","loadeddata","loadedmetadata","mouseenter","mouseleave","pause","play","playing","ratechange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeupdate","unload","volumechange","waiting"],Qr=function(){function e(t,r){var n=this;this.rootElement$=t,this.isolateModule=r,this.virtualListeners=new Bt(function(o){return o.scope}),this.nonBubblingListenersToAdd=new Set,this.virtualNonBubblingListener=[],this.isolateModule.setEventDelegator(this),this.domListeners=new Map,this.domListenersToAdd=new Map,this.nonBubblingListeners=new Map,t.addListener({next:function(o){n.origin!==o&&(n.origin=o,n.resetEventListeners(),n.domListenersToAdd.forEach(function(i,a){return n.setupDOMListener(a,i)}),n.domListenersToAdd.clear()),n.nonBubblingListenersToAdd.forEach(function(i){n.setupNonBubblingListener(i)})}})}return e.prototype.addEventListener=function(t,r,n,o){var i=Se.default.never(),a,s=new kt(r,this.isolateModule),u=o===void 0?Fi.indexOf(t)===-1:o;if(u)return this.domListeners.has(t)||this.setupDOMListener(t,!!n.passive),a=this.insertListener(i,s,t,n),i;var d=[];this.nonBubblingListenersToAdd.forEach(function(b){return d.push(b)});for(var m=void 0,v=0,_=d.length,O=function(b){var S=b[0],E=b[1],A=b[2],M=b[3];return t===E&&it(A.namespace,r)};!m&&v<_;){var p=d[v];m=O(p)?p:m,v++}var f=m,h;if(f){var w=f[0];h=w}else{var y=new Tt(r,this.isolateModule);a=this.insertListener(i,s,t,n),f=[i,t,y,a],h=i,this.nonBubblingListenersToAdd.add(f),this.setupNonBubblingListener(f)}var x=this,g=null;return Se.default.create({start:function(b){g=h.subscribe(b)},stop:function(){var b=f[0],S=f[1],E=f[2],A=f[3],M=E.call();M.forEach(function(C){var D=C.subs;D&&D[S]&&(D[S].unsubscribe(),delete D[S])}),x.nonBubblingListenersToAdd.delete(f),g.unsubscribe()}})},e.prototype.removeElement=function(t,r){r!==void 0&&this.virtualListeners.delete(r);var n=[];this.nonBubblingListeners.forEach(function(a,s){if(a.has(t)){n.push([s,t]);var u=t.subs;u&&Object.keys(u).forEach(function(d){u[d].unsubscribe()})}});for(var o=0;o<n.length;o++){var i=this.nonBubblingListeners.get(n[o][0]);!i||(i.delete(n[o][1]),i.size===0?this.nonBubblingListeners.delete(n[o][0]):this.nonBubblingListeners.set(n[o][0],i))}},e.prototype.insertListener=function(t,r,n,o){var i=[],a=r._namespace,s=a.length;do i.push(this.getVirtualListeners(n,a,!0,s)),s--;while(s>=0&&a[s].type!=="total");for(var u=Rt({},o,{scopeChecker:r,subject:t,bubbles:!!o.bubbles,useCapture:!!o.useCapture,passive:!!o.passive}),d=0;d<i.length;d++)i[d].add(u,a.length);return u},e.prototype.getVirtualListeners=function(t,r,n,o){n===void 0&&(n=!1);var i=o!==void 0?o:r.length;if(!n)for(var a=i-1;a>=0;a--){if(r[a].type==="total"){i=a+1;break}i=a}var s=this.virtualListeners.getDefault(r,function(){return new Map},i);return s.has(t)||s.set(t,new Zr),s.get(t)},e.prototype.setupDOMListener=function(t,r){var n=this;if(this.origin){var o=V(this.origin,t,!1,!1,r).subscribe({next:function(i){return n.onEvent(t,i,r)},error:function(){},complete:function(){}});this.domListeners.set(t,{sub:o,passive:r})}else this.domListenersToAdd.set(t,r)},e.prototype.setupNonBubblingListener=function(t){var r=t[0],n=t[1],o=t[2],i=t[3];if(!!this.origin){var a=o.call();if(a.length){var s=this;a.forEach(function(u){var d,m=u.subs;if(!m||!m[n]){var v=V(u,n,!1,!1,i.passive).subscribe({next:function(O){return s.onEvent(n,O,!!i.passive,!1)},error:function(){},complete:function(){}});s.nonBubblingListeners.has(n)||s.nonBubblingListeners.set(n,new Map);var _=s.nonBubblingListeners.get(n);if(!_)return;_.set(u,{sub:v,destination:i}),u.subs=Rt({},m,(d={},d[n]=v,d))}})}}},e.prototype.resetEventListeners=function(){for(var t=this.domListeners.entries(),r=t.next();!r.done;){var n=r.value,o=n[0],i=n[1],a=i.sub,s=i.passive;a.unsubscribe(),this.setupDOMListener(o,s),r=t.next()}},e.prototype.putNonBubblingListener=function(t,r,n,o){var i=this.nonBubblingListeners.get(t);if(!!i){var a=i.get(r);a&&a.destination.passive===o&&a.destination.useCapture===n&&(this.virtualNonBubblingListener[0]=a.destination)}},e.prototype.onEvent=function(t,r,n,o){o===void 0&&(o=!0);var i=this.patchEvent(r),a=this.isolateModule.getRootElement(r.target);if(o){var s=this.isolateModule.getNamespace(r.target);if(!s)return;var u=this.getVirtualListeners(t,s);this.bubble(t,r.target,a,i,u,s,s.length-1,!0,n),this.bubble(t,r.target,a,i,u,s,s.length-1,!1,n)}else this.putNonBubblingListener(t,r.target,!0,n),this.doBubbleStep(t,r.target,a,i,this.virtualNonBubblingListener,!0,n),this.putNonBubblingListener(t,r.target,!1,n),this.doBubbleStep(t,r.target,a,i,this.virtualNonBubblingListener,!1,n),r.stopPropagation()},e.prototype.bubble=function(t,r,n,o,i,a,s,u,d){!u&&!o.propagationHasBeenStopped&&this.doBubbleStep(t,r,n,o,i,u,d);var m=n,v=s;if(r===n)if(s>=0&&a[s].type==="sibling")m=this.isolateModule.getElement(a,s),v--;else return;r.parentNode&&m&&this.bubble(t,r.parentNode,m,o,i,a,v,u,d),u&&!o.propagationHasBeenStopped&&this.doBubbleStep(t,r,n,o,i,u,d)},e.prototype.doBubbleStep=function(t,r,n,o,i,a,s){!n||(this.mutateEventCurrentTarget(o,r),i.forEach(function(u){if(u.passive===s&&u.useCapture===a){var d=It(u.scopeChecker.namespace);!o.propagationHasBeenStopped&&u.scopeChecker.isDirectlyInScope(r)&&(d!==""&&r.matches(d)||d===""&&r===n)&&(he(o,u.preventDefault),u.subject.shamefullySendNext(o))}}))},e.prototype.patchEvent=function(t){var r=t;r.propagationHasBeenStopped=!1;var n=r.stopPropagation;return r.stopPropagation=function(){n.call(this),this.propagationHasBeenStopped=!0},r},e.prototype.mutateEventCurrentTarget=function(t,r){try{Object.defineProperty(t,"currentTarget",{value:r,configurable:!0})}catch(n){console.log("please use event.ownerTarget")}t.ownerTarget=r},e}();function Ii(e){if(!Array.isArray(e))throw new Error("Optional modules option must be an array for snabbdom modules")}function ki(e){if(!e||typeof e.addListener!="function"||typeof e.fold!="function")throw new Error("The DOM driver function expects as input a Stream of virtual DOM elements")}function Ti(e){return Z.default.merge(e,Z.default.never())}function ji(e){return e.elm}function Bi(e){(console.error||console.log)(e)}function Ri(){return Z.default.create({start:function(e){document.readyState==="loading"?document.addEventListener("readystatechange",function(){var t=document.readyState;(t==="interactive"||t==="complete")&&(e.next(null),e.complete())}):(e.next(null),e.complete())},stop:function(){}})}function $i(e){return e.data=e.data||{},e.data.isolate=[],e}function Wi(e,t){t===void 0&&(t={}),kr(e);var r=t.modules||Yr;Ii(r);var n=new Vr,o=t&&t.snabbdomOptions||void 0,i=qt([n.createModule()].concat(r),void 0,o),a=Ri(),s,u,d=Z.default.create({start:function(v){u=new MutationObserver(function(){return v.next(null)})},stop:function(){u.disconnect()}});function m(v,_){_===void 0&&(_="DOM"),ki(v);var O=Z.default.create(),p=a.map(function(){var x=Tr(e)||document.body;return s=new Xr(x),x}),f=v.remember();f.addListener({}),d.addListener({});var h=p.map(function(x){return Z.default.merge(f.endWhen(O),O).map(function(g){return s.call(g)}).startWith($i(ut(x))).fold(i,ut(x)).drop(1).map(ji).startWith(x).map(function(g){return u.observe(g,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),g}).compose(Ti)}).flatten(),y=(0,tn.default)(a,d).endWhen(O).compose((0,en.default)(h)).map(function(x){return x[1]}).remember();y.addListener({error:t.reportSnabbdomError||Bi});var w=new Qr(y,n);return new ve(y,O,[],n,w,_)}return m}var $t=B(U()),_t=B(ft()),we="___",rn=function(){function e(t){this._mockConfig=t,t.elements?this._elements=t.elements:this._elements=(0,_t.adapt)($t.default.empty())}return e.prototype.elements=function(){var t=this._elements;return t._isCycleSource="MockedDOM",t},e.prototype.element=function(){var t=this.elements().filter(function(n){return n.length>0}).map(function(n){return n[0]}).remember(),r=(0,_t.adapt)(t);return r._isCycleSource="MockedDOM",r},e.prototype.events=function(t,r,n){var o=this._mockConfig[t],i=(0,_t.adapt)(o||$t.default.empty());return i._isCycleSource="MockedDOM",i},e.prototype.select=function(t){var r=this._mockConfig[t]||{};return new e(r)},e.prototype.isolateSource=function(t,r){return t.select("."+we+r)},e.prototype.isolateSink=function(t,r){return(0,_t.adapt)($t.default.fromObservable(t).map(function(n){return n.sel&&n.sel.indexOf(we+r)!==-1||(n.sel+="."+we+r),n}))},e}();function Ui(e){return new rn(e)}function Gi(e){return typeof e=="string"&&e.length>0}function nn(e){return Gi(e)&&(e[0]==="."||e[0]==="#")}function Wt(e){return function(r,n,o){var i=typeof r!="undefined",a=typeof n!="undefined",s=typeof o!="undefined";return nn(r)?a&&s?T(e+r,n,o):a?T(e+r,n):T(e+r,{}):s?T(e+r,n,o):a?T(e,r,n):i?T(e,r):T(e,{})}}var on=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","colorProfile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotlight","feTile","feTurbulence","filter","font","fontFace","fontFaceFormat","fontFaceName","fontFaceSrc","fontFaceUri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missingGlyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],an=Wt("svg");on.forEach(function(e){an[e]=Wt(e)});var sn=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","u","ul","video"],un={SVG_TAG_NAMES:on,TAG_NAMES:sn,svg:an,isSelector:nn,createTagFunction:Wt};sn.forEach(function(e){un[e]=Wt(e)});var l=un;var cu=l.svg,hu=l.a,du=l.abbr,mu=l.address,yu=l.area,vu=l.article,gu=l.aside,_u=l.audio,bu=l.b,xu=l.base,Su=l.bdi,wu=l.bdo,Au=l.blockquote,Ou=l.body,Eu=l.br,Pu=l.button,Mu=l.canvas,Du=l.caption,Nu=l.cite,Cu=l.code,Lu=l.col,Fu=l.colgroup,Iu=l.dd,ku=l.del,Tu=l.dfn,ju=l.dir,Bu=l.div,Ru=l.dl,$u=l.dt,Wu=l.em,Uu=l.embed,Gu=l.fieldset,qu=l.figcaption,Hu=l.figure,zu=l.footer,Ju=l.form,Ku=l.h1,Xu=l.h2,Yu=l.h3,Vu=l.h4,Zu=l.h5,Qu=l.h6,tf=l.head,ef=l.header,rf=l.hgroup,nf=l.hr,of=l.html,af=l.i,sf=l.iframe,uf=l.img,ff=l.input,lf=l.ins,pf=l.kbd,cf=l.keygen,hf=l.label,df=l.legend,mf=l.li,yf=l.link,vf=l.main,gf=l.map,_f=l.mark,bf=l.menu,xf=l.meta,Sf=l.nav,wf=l.noscript,Af=l.object,Of=l.ol,Ef=l.optgroup,Pf=l.option,Mf=l.p,Df=l.param,Nf=l.pre,Cf=l.progress,Lf=l.q,Ff=l.rp,If=l.rt,kf=l.ruby,Tf=l.s,jf=l.samp,Bf=l.script,Rf=l.section,$f=l.select,Wf=l.small,Uf=l.source,Gf=l.span,qf=l.strong,Hf=l.style,zf=l.sub,Jf=l.sup,Kf=l.table,Xf=l.tbody,Yf=l.td,Vf=l.textarea,Zf=l.tfoot,Qf=l.th,tl=l.thead,el=l.title,rl=l.tr,nl=l.u,ol=l.ul,il=l.video;export{ve as MainDOMSource,rn as MockedDOMSource,hu as a,du as abbr,mu as address,yu as area,vu as article,gu as aside,_u as audio,bu as b,xu as base,Su as bdi,wu as bdo,Au as blockquote,Ou as body,Eu as br,Pu as button,Mu as canvas,Du as caption,Nu as cite,Cu as code,Lu as col,Fu as colgroup,Iu as dd,ku as del,Tu as dfn,ju as dir,Bu as div,Ru as dl,$u as dt,Wu as em,Uu as embed,Gu as fieldset,qu as figcaption,Hu as figure,zu as footer,Ju as form,T as h,Ku as h1,Xu as h2,Yu as h3,Vu as h4,Zu as h5,Qu as h6,tf as head,ef as header,rf as hgroup,nf as hr,of as html,af as i,sf as iframe,uf as img,ff as input,lf as ins,pf as kbd,cf as keygen,hf as label,df as legend,mf as li,yf as link,vf as main,Wi as makeDOMDriver,gf as map,_f as mark,bf as menu,xf as meta,Ui as mockDOMSource,Sf as nav,wf as noscript,Af as object,Of as ol,Ef as optgroup,Pf as option,Mf as p,Df as param,Nf as pre,Cf as progress,Lf as q,Ff as rp,If as rt,kf as ruby,Tf as s,jf as samp,Bf as script,Rf as section,$f as select,Wf as small,Uf as source,Gf as span,qf as strong,Hf as style,zf as sub,Jf as sup,cu as svg,Kf as table,Xf as tbody,Yf as td,Vf as textarea,Zf as tfoot,Qf as th,tl as thead,qn as thunk,el as title,rl as tr,nl as u,ol as ul,il as video};
//# sourceMappingURL=cycle-dom.js.map
